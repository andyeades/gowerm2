//
//  Popups
//

@mixin lib-popup(
    $-popup-width                                              : $popup-width,
    $-popup-height                                             : $popup-height,
    $-popup-padding                                            : $popup-padding,
    $-popup-background                                         : $popup-background,
    $-popup-border                                             : $popup-border,
    $-popup-shadow                                             : $popup-shadow,
    $-popup-fade                                               : $popup-fade,
    $-popup-z-index                                            : $popup-z-index,

    $-popup-position                                           : $popup-position,
    $-popup-position-top                                       : $popup-position-top,
    $-popup-position-right                                     : $popup-position-right,
    $-popup-position-bottom                                    : $popup-position-bottom,
    $-popup-position-left                                      : $popup-position-left,

    $-popup-margin-top                                         : $popup-margin-top,
    $-popup-margin-right                                       : $popup-margin-right,
    $-popup-margin-bottom                                      : $popup-margin-bottom,
    $-popup-margin-left                                        : $popup-margin-left,

    $-popup-content-height                                     : $popup-content-height,
    $-popup-header-margin                                      : $popup-header-margin,
    $-popup-content-margin                                     : $popup-content-margin,
    $-popup-footer-margin                                      : $popup-footer-margin,

    $-popup-title-headings                                     : $popup-title-headings,
    $-popup-title-headings-level                               : $popup-title-headings-level,

    //  Icons parameters
    $-popup-button-close-icon                                  : $popup-button-close-icon,
    $-popup-button-close-reset                                 : $popup-button-close-reset,
    $-popup-button-close-position                              : $popup-button-close-position,
    $-popup-button-close-position-top                          : $popup-button-close-position-top,
    $-popup-button-close-position-right                        : $popup-button-close-position-right,
    $-popup-button-close-position-bottom                       : $popup-button-close-position-bottom,
    $-popup-button-close-position-left                         : $popup-button-close-position-left,
    $-popup-icon-font-content                                  : $popup-icon-font-content,
    $-popup-icon-font                                          : $popup-icon-font,
    $-popup-icon-font-size                                     : $popup-icon-font-size,
    $-popup-icon-font-line-height                              : $popup-icon-font-line-height,
    $-popup-icon-font-color                                    : $popup-icon-font-color,
    $-popup-icon-font-color-hover                              : $popup-icon-font-color-hover,
    $-popup-icon-font-color-active                             : $popup-icon-font-color-active,
    $-popup-icon-font-margin                                   : $popup-icon-font-margin,
    $-popup-icon-font-vertical-align                           : $popup-icon-font-vertical-align,
    $-popup-icon-font-position                                 : $popup-icon-font-position,
    $-popup-icon-font-text-hide                                : $popup-icon-font-text-hide,

    //  Actions toolbar parameters
    $-popup-actions-toolbar                                    : $popup-actions-toolbar,
    $-popup-actions-toolbar-actions-position                   : $popup-actions-toolbar-actions-position,
    $-popup-actions-toolbar-actions-reverse                    : $popup-actions-toolbar-actions-reverse,
    $-popup-actions-toolbar-margin                             : $popup-actions-toolbar-margin,
    $-popup-actions-toolbar-padding                            : $popup-actions-toolbar-padding,
    $-popup-actions-toolbar-actions-margin                     : $popup-actions-toolbar-actions-margin,
    $-popup-actions-toolbar-primary-actions-margin             : $popup-actions-toolbar-actions-primary-margin,
    $-popup-actions-toolbar-secondary-actions-margin           : $popup-actions-toolbar-actions-secondary-margin,
    $-popup-actions-toolbar-actions-links-margin-top           : $popup-actions-toolbar-actions-links-margin-top,
    $-popup-actions-toolbar-primary-actions-links-margin-top   : $popup-actions-toolbar-actions-links-primary-margin-top,
    $-popup-actions-toolbar-secondary-actions-links-margin-top : $popup-actions-toolbar-actions-links-secondary-margin-top
) {
    @include lib-css(background, $-popup-background);
    @include lib-css(border, $-popup-border);
    @include lib-css(padding, $-popup-padding);
    @include lib-css(width, $-popup-width);
    @include _lib-popup-height($-popup-height);
    @include _lib-popup-shadow($-popup-shadow);
    @include _lib-popup-action-toolbar(
        $-popup-actions-toolbar,
        $-popup-actions-toolbar-actions-position,
        $-popup-actions-toolbar-actions-reverse,
        $-popup-actions-toolbar-margin,
        $-popup-actions-toolbar-padding,
        $-popup-actions-toolbar-actions-margin,
        $-popup-actions-toolbar-primary-actions-margin,
        $-popup-actions-toolbar-secondary-actions-margin,
        $-popup-actions-toolbar-actions-links-margin-top,
        $-popup-actions-toolbar-primary-actions-links-margin-top,
        $-popup-actions-toolbar-secondary-actions-links-margin-top
    );

    .popup-header {
        @include lib-css(margin, $-popup-header-margin);

        .title {
            @include _lib-popup-headings(
                $-popup-title-headings,
                $-popup-title-headings-level
            );
        }

        @include lib-css(padding-right, $-popup-icon-font-size)
    }

    .popup-content {
        @include _lib-popup-height($-popup-content-height);
        @include lib-css(margin, $-popup-content-margin);
    }

    .popup-footer {
        @include lib-css(margin, $-popup-footer-margin);
    }

    .popup-actions {
        .action.close {
            @include lib-css(position, $-popup-button-close-position);
            @include lib-popup-button-close-icon(
                $-popup-button-close-icon,
                $-popup-icon-font-content,
                $-popup-icon-font,
                $-popup-icon-font-size,
                $-popup-icon-font-line-height,
                $-popup-icon-font-color,
                $-popup-icon-font-color-hover,
                $-popup-icon-font-color-active,
                $-popup-icon-font-margin,
                $-popup-icon-font-vertical-align,
                $-popup-icon-font-position,
                $-popup-icon-font-text-hide
            );
            @include _lib-popup-button-close-reset(
                $-popup-button-close-reset
            );
            @include lib-css(bottom, $-popup-button-close-position-bottom);
            @include lib-css(left, $-popup-button-close-position-left);
            @include lib-css(right, $-popup-button-close-position-right);
            @include lib-css(top, $-popup-button-close-position-top);
        }
    }

    @include _lib-popup-fade($-popup-fade);

    @include lib-css(bottom, $-popup-position-bottom);
    @include lib-css(left, $-popup-position-left);
    @include lib-css(margin-bottom, $-popup-margin-bottom);
    @include lib-css(margin-left, $-popup-margin-left);
    @include lib-css(margin-right, $-popup-margin-right);
    @include lib-css(margin-top, $-popup-margin-top);
    @include lib-css(position, $-popup-position);
    @include lib-css(right, $-popup-position-right);
    @include lib-css(top, $-popup-position-top);
    @include lib-css(z-index, $-popup-z-index);
    display: none;
    opacity: 0;

    &.active {
        opacity: 1;
    }
}

@mixin lib-window-overlay(
    $-overlay-background: $overlay-background,
    $-overlay-opacity: $overlay-opacity,
    $-overlay-opacity-old: $overlay-opacity-old,
    $-overlay-fade: $overlay-fade,
    $-overlay-z-index: $overlay-z-index
) {
    @include _lib-popup-fade($-overlay-fade);
    @include lib-css(background, $-overlay-background);
    @include lib-css(z-index, $-overlay-z-index);
    bottom: 0;
    left: 0;
    opacity: 0;
    position: fixed;
    right: 0;
    top: 0;

    &.active {
        @include lib-css(opacity, $-overlay-opacity);

        @if $-overlay-opacity-old != false {
            filter: alpha(opacity=$-overlay-opacity-old);
        }
    }
}

//
//  Internal use mixins
//

//  Popup fade
@mixin _lib-popup-fade($-popup-fade) {
    @if $-popup-fade != '' {
        @include lib-css(transition, $-popup-fade);
    }
}

//  Popup shadow
@mixin _lib-popup-shadow($-popup-shadow) {
    @if $-popup-shadow != '' and $-popup-shadow != none {
        @include lib-css(box-shadow, $-popup-shadow);
    }
}

//  Popup height
@mixin _lib-popup-height($-popup-height) {
    @if $-popup-height != auto {
        overflow-y: auto;
        @include lib-css(max-height, $-popup-height);
    }
}

//  Popup Headings
@mixin _lib-popup-headings(
    $-popup-title-headings,
    $-popup-title-headings-level
) {
    @if $-popup-title-headings == true {
        @include lib-heading($-popup-title-headings-level);
    }
}

//  Popup action-toolbar
@mixin _lib-popup-action-toolbar(
    $-popup-actions-toolbar,
    $-popup-actions-toolbar-actions-position,
    $-popup-actions-toolbar-actions-reverse,
    $-popup-actions-toolbar-margin,
    $-popup-actions-toolbar-padding,
    $-popup-actions-toolbar-actions-margin,
    $-popup-actions-toolbar-primary-actions-margin,
    $-popup-actions-toolbar-secondary-actions-margin,
    $-popup-actions-toolbar-actions-links-margin-top,
    $-popup-actions-toolbar-primary-actions-links-margin-top,
    $-popup-actions-toolbar-secondary-actions-links-margin-top
) {
    @if $-popup-actions-toolbar == true {
        .popup-footer {
            .actions.toolbar {
                @include lib-actions-toolbar(
                    $-actions-toolbar-actions-position                   : $-popup-actions-toolbar-actions-position,
                    $-actions-toolbar-actions-reverse                    : $-popup-actions-toolbar-actions-reverse,
                    $-actions-toolbar-margin                             : $-popup-actions-toolbar-margin,
                    $-actions-toolbar-padding                            : $-popup-actions-toolbar-padding,
                    $-actions-toolbar-actions-margin                     : $-popup-actions-toolbar-actions-margin,
                    $-actions-toolbar-primary-actions-margin             : $-popup-actions-toolbar-primary-actions-margin,
                    $-actions-toolbar-secondary-actions-margin           : $-popup-actions-toolbar-secondary-actions-margin,
                    $-actions-toolbar-actions-links-margin-top           : $-popup-actions-toolbar-actions-links-margin-top,
                    $-actions-toolbar-primary-actions-links-margin-top   : $-popup-actions-toolbar-primary-actions-links-margin-top,
                    $-actions-toolbar-secondary-actions-links-margin-top : $-popup-actions-toolbar-secondary-actions-links-margin-top
                );
            }
        }
    }
}

//  Popup close button use icon
@mixin lib-popup-button-close-icon(
    $-popup-button-close-icon,
    $-popup-icon-font-content,
    $-popup-icon-font,
    $-popup-icon-font-size,
    $-popup-icon-font-line-height,
    $-popup-icon-font-color,
    $-popup-icon-font-color-hover,
    $-popup-icon-font-color-active,
    $-popup-icon-font-margin,
    $-popup-icon-font-vertical-align,
    $-popup-icon-font-position,
    $-popup-icon-font-text-hide
) {
    @if $-popup-button-close-icon == true {
        @include lib-button-icon(
            $-icon-font-content        : $-popup-icon-font-content,
            $-icon-font                : $-popup-icon-font,
            $-icon-font-size           : $-popup-icon-font-size,
            $-icon-font-line-height    : $-popup-icon-font-line-height,
            $-icon-font-color          : $-popup-icon-font-color,
            $-icon-font-color-hover    : $-popup-icon-font-color-hover,
            $-icon-font-color-active   : $-popup-icon-font-color-active,
            $-icon-font-margin         : $-popup-icon-font-margin,
            $-icon-font-vertical-align : $-popup-icon-font-vertical-align,
            $-icon-font-position       : $-popup-icon-font-position,
            $-icon-font-text-hide      : $-popup-icon-font-text-hide
        );
    }
}
//  Popup close button reset
@mixin _lib-popup-button-close-reset (
    $-popup-button-close-reset
) {
    @if $-popup-button-close-reset == true {
        @include lib-button-reset();
    }
}
