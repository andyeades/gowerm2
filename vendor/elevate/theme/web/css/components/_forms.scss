//
//  Variables
//

$form-field-vertical-ident-desktop: 29px !default;
$form-calendar-icon-color: $primary-color !default;
$form-control-rounding: false !default;

$field-choice-label-margin: 0 0 0 0.5rem !default;


$textarea-default-height-on: 0 !default;
$textarea-default-height: 8rem !default;


@include lib-form-element-all();


textarea {
    @if $textarea-default-height-on == 1 {
        height: $textarea-default-height;
    }
}


.form-control {
    // Elevate RJ - 2020-02-19 - Fix for Padding Issue on Non Rounded Input Boxes and Background Color Spilling Through
    @if $enable-rounded == false {
        background-clip: initial;
    }
    @if $form-control-rounding == false {
        background-clip: initial;
    }
}

.misc {
    input.bundle.checkbox {
        display: inline-block !important;
        opacity: 1;
        left: initial;
        position: relative;
        margin-top: 3px;
        margin-right: 9px;
    }

    .aw-sbp__bundle-options-container .fieldset-bundle-options {
        margin: 0 0 10px;
    }

    .aw-sbp__bundle-options-container .fieldset-bundle-options .legend {
        display: none;
    }

    .aw-sbp__bundle-options-container .fieldset-bundle-options .legend + br {
        display: none;
    }

    .aw-sbp__bundle-options-container .bundle-options-container .bundle-options-wrapper,
    .aw-sbp__bundle-options-container .bundle-options-container .product-options-wrapper {
        float: none;
        width: auto;
    }

    .aw-sbp__bundle-options-container .bundle-options-container .product-options-wrapper .fieldset-bundle-options .field.choice .label {
        margin-left: 0;
    }

    .aw-sbp__hidden-container {
        display: none;
    }

}



.fieldset {
    overflow: hidden;
    @include lib-form-fieldset();

    &:last-child {
        margin-bottom: 0;
    }
    .legend {
        @include min-screen($desktop-min) {
            @include abs-margin-for-forms-desktop();
        }
    }
    > .field {
       @include min-screen($desktop-min) {
           @include lib-form-field-type-revert();
       }
    }
    > .field,
    > .fields > .field {
        @include lib-form-field();

        &.no-label {
            > .label {
                @include abs-visually-hidden();
            }
        }

        &.choice {
            .label {
                display: inline;
                font-weight: normal;
            }
        }

        .label {
            .column:not(.main) & {
                font-weight: normal;
            }
        }

        .field.choice {
            //margin-bottom: $indent-s;

            &:last-child {
                margin-bottom: 0;
            }
        }

        input[type=file] {
            @include co(margin, $indent-xs 0);
        }
    }

    .field.choice {
        label {
            @include co(margin, $field-choice-label-margin);

        }

        .tooltip.wrapper {
            @include co(margin, $field-choice-label-margin);
        }
    }

    &:focus {
        outline: none;
    }
}

.legend + .fieldset,
.legend + div {
    clear: both;
}


.legend {
    strong {
        margin-left: $indent-xs;
    }
}

fieldset.field {
    border: 0;
    padding: 0;
}

$form-field-choice-margin: 0 0 0.75rem 0 !default;

$form-field-choice-input-margin: 0 0.3125rem 0 0 !default;

$form-field-choice-label-font-size: 0.9375rem !default;

$field-name-prefix-control-select-max-width: 150px !default;

.field-name-prefix {
    .control {
        select {
            @include co(max-width, $field-name-prefix-control-select-max-width);
        }
    }
}


.field {
    .control {
        select {

        }
        input {

        }
    }
    .choice {
        @include co(margin, $form-field-choice-margin);

        input {
            @include co(margin, $form-field-choice-input-margin);
        }

        label {
          @include co(font-size, $form-field-choice-label-font-size);
        }

    }

    &.date {
        .control {

            position: relative;
        }

        input {
            @include lib-css(margin-right, $indent-s);
            width: calc(100% - #{$icon-calendar-font-size + $indent-s});
        }

        .time-picker {
            display: inline-block;
            margin-top: $indent-s;
            white-space: nowrap;
        }
    }

    .message {
        &.warning {
            margin-top: $indent-s;
        }
    }
}

$options-list-field-choice-label: wrapping-checkbox !default;

$options-list-field-choice-checkbox-display: block !default;


$options-list-field-choice-label-bg-color: #FFF !default;
$options-list-field-choice-label-alignitems: flex-start !default;
$options-list-field-choice-label-border-radius: $border-radius !default;
$options-list-field-choice-label-padding: 0.625rem !default;
$options-list-field-choice-label-border-radius: $border-radius !default;
$options-list-field-choice-label-width: 100% !default;
$options-list-field-choice-label-fontsize: 0.8125rem !default;
$options-list-field-choice-label-border: 2px solid transparent !default;
$options-list-field-choice-label-checkboxselected-border: 2px solid #e66100 !default;

$options-list-field-choice-label-price-fontsize: 0.75rem !default;
$options-list-field-choice-label-price-fontweight: 600 !default;
$options-list-field-choice-label-price-color: $body-color !default;
$options-list-field-choice-label-price-padding: false !default;

$options-list-field-choice-product-name-color: $body-color !default;
$options-list-field-choice-product-name-fontsize: false !default;
$options-list-field-choice-product-name-padding: 0 0 0.25rem !default;
$options-list-field-choice-product-name-fontweight: 600 !default;
$options-list-field-choice-product-name-width: 100% !default;

$options-list-field-choice-selectionsku-fontsize: $options-list-field-choice-label-price-fontsize !default;
$options-list-field-choice-selectionsku-fontweight: 400 !default;
$options-list-field-choice-selectionsku-margin: 0 0 0 0.125rem !default;

// Checkbox Label Before (How the Tick box is styled)

$options-list-checkbox-label-before-border-radius: 16px !default;
$options-list-checkbox-label-before-fontsize: 0.6875rem !default;
$options-list-checkbox-label-before-padding: 0.375rem 0 0 0 !default;
$options-list-checkbox-label-before-width: 16px !default;
$options-list-checkbox-label-before-height: 16px !default;
$options-list-checkbox-label-before-max-width: 16px !default;
$options-list-checkbox-label-before-flex: 0 0 16px !default;
$options-list-checkbox-label-before-margin: 0.125rem 0.625rem 0 0 !default;

$options-list-checkbox-label-before-color: #F4F6F8 !default;
$options-list-checkbox-label-before-bgcolor: #F4F6F8 !default;
$options-list-checkbox-label-before-border-color: #F4F6F8 !default; //ccc
$options-list-checkbox-label-before-border-thickness: 1px !default;
$options-list-checkbox-label-before-border-style: solid !default;

// Checkbox Label After (the Check/Tick)

$options-list-checkbox-label-after-left: 13px !default;
$options-list-checkbox-label-after-width: 10px !default;
$options-list-checkbox-label-after-height: 10px !default;
$options-list-checkbox-label-after-margin: -5.5px 0 0 0 !default;
$options-list-checkbox-label-after-top: 50% !default;
$options-list-checkbox-label-after-bg-image: url("data:image/svg+xml,%3Csvg width='1792' height='1792' viewBox='0 0 1792 1792' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z' fill='%23fff'/%3E%3C/svg%3E") !default;

$options-list-checked-border-color: #F65601 !default;
$options-list-checked-bgcolor: #F65601 !default;


.nested.options-list {
    .field.choice {
        label {
            display: flex;
            @include co(align-items, $options-list-field-choice-label-alignitems);
            cursor: pointer;
            position: relative;
            @include co(background-color, $options-list-field-choice-label-bg-color);
            @include co(border-radius, $options-list-field-choice-label-border-radius);
            @include co(padding, $options-list-field-choice-label-padding);
            @include co(width, $options-list-field-choice-label-width);
            border: $options-list-field-choice-label-border;

            &.checkbox-selected {
                border: $options-list-field-choice-label-checkboxselected-border;

                &:before {
                    border-color: $options-list-checked-border-color;
                    background-color: $options-list-checked-bgcolor;
                }

                &:after {
                    position: absolute;
                    content: "";
                    left: $options-list-checkbox-label-after-left;
                    @include co(width, $options-list-checkbox-label-after-width);
                    height: $options-list-checkbox-label-after-height;
                    top: $options-list-checkbox-label-after-top;
                    @include co(margin, $options-list-checkbox-label-after-margin);
                    background-repeat: no-repeat;
                    background-size: contain;
                    background-image: $options-list-checkbox-label-after-bg-image;
                }
            }

            &:before {
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                content: "";
                border-radius: $options-list-checkbox-label-before-border-radius;
                @include co(margin, $options-list-checkbox-label-before-margin);
              @include co(font-size, $options-list-checkbox-label-before-fontsize);
                @include co(padding, $options-list-checkbox-label-before-padding);
                @include co(width, $options-list-checkbox-label-before-width);
                height: $options-list-checkbox-label-before-height;
                max-width: $options-list-checkbox-label-before-max-width;
                flex: $options-list-checkbox-label-before-flex;
                @include co(color, $options-list-checkbox-label-before-bgcolor);
                background-color: $options-list-checkbox-label-before-bgcolor;
                border: $options-list-checkbox-label-before-border-thickness $options-list-checkbox-label-before-border-style $options-list-checkbox-label-before-border-color;

            }

        }

        .bo-checkbox {

        }

        .bo-label-content {
            flex: 1 1 auto;
            display: flex;
            flex-wrap: wrap;
        }

        .product-item-link,
        .product-name {
            @include co(color, $options-list-field-choice-product-name-color);
            @include co(padding, $options-list-field-choice-product-name-padding);
            @include co(font-size, $options-list-field-choice-product-name-fontsize);
            @include co(font-weight, $options-list-field-choice-product-name-fontweight);
            @include co(width, $options-list-field-choice-product-name-width);
        }

        .price {
            @include co(font-size, $options-list-field-choice-label-price-fontsize);
            @include co(font-weight, $options-list-field-choice-label-price-fontweight);
            @include co(padding, $options-list-field-choice-label-price-padding);
        }

        .price-wrapper {
            &:after {
                @include co(font-size, $options-list-field-choice-label-price-fontsize);
                @include co(font-weight, $options-list-field-choice-label-price-fontweight);
                @include co(color, $options-list-field-choice-label-price-color);
            }
        }

        .price-notice {
            @include co(font-size, $options-list-field-choice-label-price-fontsize);
        }

        .selection-sku {
            @include co(font-size, $options-list-field-choice-selectionsku-fontsize);
            @include co(font-weight, $options-list-field-choice-selectionsku-fontweight);
            @include co(margin, $options-list-field-choice-selectionsku-margin);
        }

        .checkbox {
            @include co(display, $options-list-field-choice-checkbox-display);
            position: absolute;
            left: 0;
            opacity: 0;

        }

        .checkbox-selected {
            .checkbox {

            }
        }
    }
}


.field-error,
div.mage-error[generated] {
    margin-top: 7px;
}

.field-error {
    @include lib-form-validation-note();
}

.field .tooltip {
    @include lib-tooltip(right);

    .tooltip-content {
        min-width: 200px;
        white-space: normal;

    }
}

.field-tooltip {
    .field-tooltip-content {
        &:before, &:after {
            box-sizing: content-box;
        }

    }
}

input,
select {
    &:focus ~ .tooltip .tooltip-content {
        display: block;
    }
}

._has-datepicker {
    ~ .ui-datepicker-trigger {
        @include lib-button-reset();
        @include lib-icon-font(
            $-icon-font-content: $icon-calendar,
            $-icon-font-color: $primary-color-lighter,
            $-icon-font-size: $icon-calendar-font-size,
            $-icon-font-line-height: $icon-calendar-font-size,
            $-icon-font-display: block,
            $-icon-font-text-hide: true
        );
        display: inline-block;
        vertical-align: middle;

        &:focus {
            box-shadow: none;
            outline: 0;
        }
    }
}

//
//  Sidebar forms
//  -----------------------------------------

.sidebar {
    .fieldset {
        margin: 0;

        & > .field:not(.choice),
        .fields > .field {
            &:not(:last-child) {
                margin: 0 0 $form-field-vertical-indent;
            }

            .label {
                margin: 0 0 4px;
                padding: 0 0 $indent-xs;
                text-align: left;
                width: 100%;
            }

            .control {
                width: 100%;
            }
        }
    }
}

//
//  Desktop
//


