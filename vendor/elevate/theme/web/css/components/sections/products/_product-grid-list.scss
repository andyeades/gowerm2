$category-header-outer-background: false !default;
$category-header-outer-border-radius: false !default;
$category-header-outer-border-radius-mobilemenunotvisible: false !default;

$category-header-outer-margin: false !default;
$category-header-outer-margin-mobilemenunotvisible: false !default;

$category-header-inner-margin: false !default;
$category-header-inner-padding: false !default;

$category-header-inner-margin-mobilemenunotvisible: false !default;
$category-header-inner-padding-mobilemenunotvisible: false !default;


$cat-imgdesc-margin-bottom: $indent-base !default;


.catalog-category-view {
    .page-title {
        @include co(font-family, $category-page-title-font-family, $headings-font-family);
        @include co(font-size, $category-page-title-font-size, $h1-font-size);
        @include co(font-weight, $category-page-title-font-weight, $headings-font-weight);
        @include co(text-align, $category-page-title-text-align, $body-text-align);
        @include co(margin, $category-page-title-margin);

        @include min-screen($desktop-min) {
            @include co(font-size, $category-page-title-font-size-desktop, $category-page-title-font-size, $h1-font-size);
            @include co(font-weight, $category-page-title-font-weight-desktop, $category-page-title-font-weight, $headings-font-weight);
            @include co(text-align, $category-page-title-text-align-desktop, $category-page-title-text-align, $body-text-align);
            @include co(margin, $category-page-title-margin-desktop, $category-page-title-margin);
        }
    }
}




.category-header-outer {
    @include co(background, $category-header-outer-background);
    @include co(border-radius, $category-header-outer-border-radius);
    @include co(margin, $category-header-outer-margin);
    @include min-screen($mobile-menu-notvisible) {
        @include co(margin, $category-header-outer-margin-mobilemenunotvisible,$category-header-outer-margin);
        @include co(border-radius, $category-header-outer-border-radius-mobilemenunotvisible,$category-header-outer-border-radius);
    }
    .category-header-inner {
        @include co(padding, $category-header-inner-padding);
        @include co(margin, $category-header-inner-margin);
        @include min-screen($mobile-menu-notvisible) {
            @include co(padding, $category-header-inner-padding-mobilemenunotvisible, $category-header-inner-padding);
            @include co(margin, $category-header-inner-margin-mobilemenunotvisible,$category-header-inner-margin);
        }
    }
}

.category-image {
    .image {
        display: block;
        height: auto;
        max-width: 100%;
    }
}

.category-image,
.category-description {
    @include co(margin-bottom, $cat-imgdesc-margin-bottom);
}

.category-description {
    @include co(font-size, $category-description-font-size);
    @include co(text-align, $category-description-textalign);
    @include co(line-height, $category-description-line-height);


    h2 {
      @include co(font-size, $category-description-h2-font-size);
        @include co(font-weight, $category-description-h2-font-weight);
        @include co(margin, $category-description-h2-margin);
    }
}




.product-item-name {
    display: block;
    @include co(margin, $pitemname-margin);
    @include co(min-height, $pitemname-min-height);
    @include co(order, $pitemname-order);
    @include co(color, $pitemname-color, $link-color);
    @include co(font-weight, $pitemname-fontweight);
    @include co(padding, $pitemname-padding);

    &:hover {
        @include co(color, $pitemname-hover-color);
    }
    @include min-screen($desktop-min) {
        @include co(min-height, $pitemname-min-height-desktop, $pitemname-min-height);
    }
}
.product-item-inner {
    .actions-primary {
        .action.primary.tocart {
            display: flex;
            align-items: center;
            @include co(font-size, $pitems-action-primary-font-size);
            @include co(font-weight, $pitems-action-primary-fontweight);
            @include co(padding, $pitems-action-primary-padding);

            @include max-screen($mobile-max) {
                @include co(font-size, $pitems-action-primary-font-size-mobilemax, $pitems-action-primary-font-size);
            }
            @if $pitems-action-primary-i-on == 1 {
                i {
                    @include co(margin, $pitems-action-primary-i-margin);
                    position: relative;
                    display: inline-block;
                    background: $pitems-action-primary-i-background;
                    height: $pitems-action-primary-i-height;
                    @include co(width, $pitems-action-primary-i-width);
                    background-size: contain;
                    background-repeat: no-repeat;
                    @include co(order, $pitems-action-primary-i-order);
                }
                span {
                    @include co(order, $pitems-action-primary-span-order);
                }
            }

            @if $pitems-action-primary-border-radius-on == 1 {

                @include co(border-radius, $pitems-action-primary-border-radius, $border-radius);
            }
        }
    }
}
.products {
    @include co(margin, $products-grid-list-margin);
}

.product-item-actions {
    @if $product-item-actions-show == 0 {
        display: none;
    } @else {
        .actions-secondary {

            @if $product-item-actions-secondary-show != 0 {
                & > .action {
                    @include lib-icon-font(
                        $-icon-font-content        : '',
                        $-icon-font-size           : 1.813rem,
                        $-icon-font-color          : $addto-color,
                        $-icon-font-color-hover    : $addto-hover-color,
                        $-icon-font-text-hide      : true,
                        $-icon-font-vertical-align : middle,
                        $-icon-font-line-height    :  1.5rem
                    );

                    &:before {
                        margin: 0;
                    }

                    span {
                        @include abs-visually-hidden();
                    }
                }
            } @else {
                display: none;
            }

        }
    }


}

.product-items {
    display: flex;
    flex-wrap: wrap;
    @include co(margin-left, $pitems-margin-left);
    @include co(margin-right, $pitems-margin-right);
    @include max-screen($mobile-max) {
        @include co(margin-left, $pitems-margin-left-mobilemax, $pitems-margin-left);
        @include co(margin-right, $pitems-margin-right-mobilemax, $pitems-margin-right);
    }

    .product-item {
        @include co(margin, $pitems-item-margin);

        .product-items-details {
            height: 100%;

        }



        .product-item-bottom {
            width: 100%;
        }

    }

    .product-image-photo {
        @include co(width, $pitems-pimagephoto-width);
      @if $pitems-product-image-photo-border-radius-on == 1 {
          border-radius: $pitems-product-image-photo-border-radius;
      }
    }

    .product-item-name {

        @include co(font-family, $pitems-product-item-name-fontfamily);
        @include co(padding, $pitems-product-item-name-padding);
        @include co(margin, $pitems-product-item-name-margin);
        @include co(font-size, $pitems-product-item-name-font-size);
    }

    .product-item-sku {
        @include co(margin, $pitems-product-sku-margin);
    }

    .product-item-info {

        // Solid Color
        @if $pitems-item-bg-color-on == 1 {
            background: $pitems-item-bg-color;
        }
        // Gradient
        @if $pitems-item-background-on == 1 {
            background: $pitems-item-background;
        }
        @if $pitems-item-border-radius-on == 1 {
            border-radius: $pitems-item-border-radius;
        }
        @if $pitems-item-border-on == 1 {
            @include elevate-border($pitems-item-border-color, $pitems-item-border-thickness, $pitems-item-border-style, $pitems-item-border-position);

        }
    }

    .product-reviews-summary {
        @if $pitems-product-reviews-summary-on != false {
            @include co(order, $pitems-product-reviews-summary-order);
            @include co(margin, $pitems-product-reviews-summary-margin);
            @include co(justify-content, $pitems-product-reviews-summary-justifycontent);
        } @else {
        display: none;
    }


    }

    .product-item-actions {
        .action {
            @include co(color, $pitems-product-item-actions-action-color);
            @include co(text-transform, $pitems-product-item-actions-action-texttransform);
            @include co(font-family, $pitems-product-item-actions-action-fontfamily);
        }
    }
}

.product-item-description {
    @include co(margin, $indent-m 0);
}


@if $using-compare-functionality == 1 {
    .action.tocompare {
        @include lib-icon-font-symbol($icon-compare-empty);
    }
}


.tocart {
    white-space: nowrap;
}


// Products Grid


.products-grid {
    margin-top: 0;
    @include co(overflow, $pgrid-overflow);


    .product-items {

    }

    .product-item-details {
        display: flex;
        flex-wrap: wrap;
        @include co(align-items, $pgrid-item-pitemdetails-alignitems);
        @include co(justify-content, $pgrid-item-pitemdetails-justifycontent);
        @include co(height, $pgrid-item-pitemdetails-height);

        > strong,
        > div {
            flex: $pgrid-item-pitemdetails-child-flex;
            @include co(width, $pgrid-item-pitemdetails-child-width);
        }
        .sr-clear {
            @include co(order, $pitems-item-pitemetails-sr-clear-order);
        }

        .price-box {
            @include co(min-height, $pgrid-price-box-min-height);
            display: flex;
            flex-wrap: wrap;
            @include co(justify-content, $pgrid-price-box-justifycontent);
            @include co(order, $pgrid-price-box-order);
            @include co(margin, $pgrid-price-box-margin);
            @include co(align-items, $pgrid-price-box-alignitems);

            @if $pgrid-addcart-pricebox-sidebyside == 1 {
                @include co(width, $pgrid-addcart-pricebox-sbs-pricebox-width);
            }

            @include min-screen($desktop-min) {
                @include co(justify-content, $pgrid-price-box-justifycontent-desktop, $pgrid-price-box-justifycontent);
            }

            > span {
                flex: 0 1 auto;
                @include co(width, $pgrid-price-box-prices-width);
                @include min-screen($desktop-min) {
                    @include co(width, $pgrid-price-box-prices-width-desktop,$pgrid-price-box-prices-width);
                }
            }

            .price-label {
                @if $pgrid-pricebox-pricelabel-disabled == 1 {
                    display: none;
                }
            }


        }
        .product-item-inner {
            @include co(align-items, $pgrid-product-item-inner-align-items);
            @if $pgrid-addcart-pricebox-sidebyside == 1 {
                @include co(width, $pgrid-addcart-pricebox-sbs-addcart-width);
            } @else {
                width: 100%;
            }
            @include co(order, $pgrid-product-item-inner-order);
            display: flex;
            flex-direction: column;



            .product-item-actions {

            }
        }
    }

    $pgrid-addcart-action-on: 1 !global;
    $pgrid-addcart-pricebox-sidebyside: 1 !global;

    $pgrid-addcart-pricebox-sbs-addcart-order: 2 !default;



    @if $pgrid-addcart-action-on == 1 {

    }

    .product-item {
        flex: 0 1 auto;
        width: (100% / $pgrid-numberofitems-perrow-default);
        @include co(text-align, $pgrid-text-align, $body-text-align);


        @if $pitems-icons-enabled != 1 {
            @if $pgrid-price-box-was-now-prices-display-mode == side-by-side {

                    .special-price, .old-price {
                        width: 50%;
                        flex: 1 1 auto;
                    }


            }
        }


        @if $pgrid-item-border-type == 1 {
            @include co(padding, $pgrid-item-padding-border-type1);
        } @else {
            @include co(padding, $pgrid-item-padding);
        }

        @include max-screen($mobile-max) {
            @include co(padding, $pgrid-item-padding-mobilemax, $pgrid-item-padding);
        }
        @include max-screen($mobiletablet-max) {
            @include co(padding, $pgrid-item-padding-mobiletabletmax, $pgrid-item-padding);
        }


        @if $pgrid-item-border-on != 1 {
            border: none;
        }

        @if $pgrid-item-reduce-padding-on-mobile == 1 {
            &:nth-of-type(odd) {
                @include max-screen($mobiletablet-max) {
                    padding-left: 0;
                }

            }
            &:nth-of-type(even) {
                @include max-screen($mobiletablet-max) {
                    padding-right: 0;
                }
            }
        }


        @include min-screen($screen-xs-min) {
            @if ($pgrid-numberofitems-perrow-xs-min != $pgrid-numberofitems-perrow-default) {
                width: (100% / $pgrid-numberofitems-perrow-xs-min);
            }
        }
        @include min-screen($desktop-min) {
            @if ($pgrid-numberofitems-perrow-sm-min != $pgrid-numberofitems-perrow-default and $pgrid-numberofitems-perrow-sm-min != $pgrid-numberofitems-perrow-xs-min) {
                width: (100% / $pgrid-numberofitems-perrow-sm-min);
            }
        }
        @include min-screen($screen-md-min) {
            width: (100% / $pgrid-numberofitems-perrow-md-min);
            @if ($pgrid-numberofitems-perrow-md-min != $pgrid-numberofitems-perrow-default and $pgrid-numberofitems-perrow-md-min != $pgrid-numberofitems-perrow-xs-min and $pgrid-numberofitems-perrow-md-min != $pgrid-numberofitems-perrow-sm-min) {

            }
        }
        @include min-screen($screen-lg-min) {
            @if ($pgrid-numberofitems-perrow-lg-min != $pgrid-numberofitems-perrow-default and $pgrid-numberofitems-perrow-lg-min != $pgrid-numberofitems-perrow-xs-min and $pgrid-numberofitems-perrow-lg-min != $pgrid-numberofitems-perrow-sm-min and $pgrid-numberofitems-perrow-lg-min != $pgrid-numberofitems-perrow-md-min) {
                width: (100% / $pgrid-numberofitems-perrow-lg-min);
            }
        }
        @if ($pgrid-numberofitems-perrow-xlg-min != $pgrid-numberofitems-perrow-default and $pgrid-numberofitems-perrow-xlg-min != $pgrid-numberofitems-perrow-xs-min and $pgrid-numberofitems-perrow-xlg-min != $pgrid-numberofitems-perrow-sm-min and $pgrid-numberofitems-perrow-xlg-min != $pgrid-numberofitems-perrow-md-min and $pgrid-numberofitems-perrow-xlg-min != $pgrid-numberofitems-perrow-lg-min) {
            @include min-screen($screen-xlg-min) {
                width: (100% / $pgrid-numberofitems-perrow-xlg-min);
            }
        }


    }

    .product-item-info {
        width: 100%;
        height: 100%;
        @include co(padding, $pgrid-item-info-padding);
        display: flex;
        flex-direction: column;
        overflow: hidden;

        @if $pgrid-item-border-on == 1 {
            @if $pgrid-item-border-type == 1 {
                border-bottom: $product-item-border;

                &:nth-child(2n+1) {
                    border-right: $product-item-border;
                }

                &:first-of-type {
                    border-right: $product-item-border;
                }
                @include min-screen($screen-lg-min) {
                    border-right: $product-item-border;
                    &:nth-child(3n+3) {
                        border-right: none;
                    }
                    &:first-of-type {
                        border-right: $product-item-border;
                    }
                }
            }

            @if $pgrid-item-border-type == 2 {
                border: $product-item-border;
            }
        }



        @include min-screen($desktop-min) {
            @include co(padding, $pgrid-item-info-padding-desktop, $pgrid-item-info-padding);
        }
    }

    .product-item-photo {
        flex: $pgrid-item-photo-flex;
        position: relative;

    }
    .product-image-photo {
        transition: opacity 0.7s ease-in-out;
    }
    .product-image-hover-enable {
        background-size: contain;
        transition: opacity 0.7s ease-in-out;
        background-repeat: no-repeat;
        overflow: hidden;
        &:hover {
            transition: opacity 0.7s ease-in-out;
            background-repeat: no-repeat;
            overflow: hidden;
            img {
                opacity: 0;
                transition: opacity 0.7s ease-in-out;
            }
        }

    }



    .product-item-description {
        margin: 0 0 2.5rem 0;
        padding: 0 1rem;
        display: none;
    }



    .product-item-actions {
        flex: 1 0 auto;
        margin-top: auto;
        margin-bottom: 0;
        @include co(padding, $product-item-actions-padding);
    }

    .actions-secondary {
        display: none;
    }
}

$plist-include-styling: false !default;

$plist-sr-clear-order: 2 !default;

$plist-pimagephoto-border-radius-on: 1 !default;
$plist-pimagephoto-border-radius: $border-radius !default;


$plist-srclear-starrating-margin: 0 auto 0 0 !default;
$plist-pitemphoto-width: 25% !default;
$plist-pitemdetails-padding: 0 0 0 1.5rem !default;
$plist-pitemdetails-width: 75% !default;

$plist-product-item-inner-order: 5 !default;

$plist-price-label-fontsize: 1rem !default;
$plist-pricebox-order: 3 !default;
$plist-pricebox-margin: 1rem 0 !default;
$plist-pricebox-width: 100% !default;
$plist-pricebox-font-size: 1.5rem !default;

@if $plist-include-styling != false {
    .products-list {
        .product-item-name {
            @include co(font-size, $plist-product-item-name-font-size);
            @include co(width, $plist-product-item-name-width);

        }

        .product-item {
            width: 100%;
            @include co(padding, $plist-item-padding);

            &:first-of-type {
                border-top: none;
                padding-top: 0;
            }

        }

        .product-image-photo {
            @if $plist-pimagephoto-border-radius-on == 1 {
                border-radius: $plist-pimagephoto-border-radius;
            }
        }
        .sr-clear {
            @include co(order, $plist-sr-clear-order);
            flex: 0 1 auto;
            .star-rating {
                @include co(margin, $plist-srclear-starrating-margin);
            }
        }


        .product-reviews-summary {
            @include co(justify-content, $pitems-product-reviews-summary-justifycontent, $plist-product-reviews-summary-justifycontent);
        }

        .product-item-info {
            display: flex;
            @include co(padding, $plist-item-info-padding);
            @if $plist-item-border-on != 1 {
                border: none;
            }
        }

        .product-item-description {
            @include screen($screen-sm-min, $screen-sm-max) {
                font-size: 1.2rem;
            }
        }

        .product-item-actions {
            .actions-secondary {
                display: none;
            }
        }

        .product-item-photo {
            display: block;
            text-align: center;
            flex: 0 1 auto;
            @include co(width, $plist-pitemphoto-width);
        }

        .product-item-details {
            display: flex;
            flex: 0 1 auto;
            @include co(width, $plist-pitemdetails-width);
            @include co(padding, $plist-pitemdetails-padding);
            flex-wrap: wrap;
        }

        .product-item-inner {
            @include co(order, $plist-product-item-inner-order);
            height: auto;
            margin-bottom: 2.5rem;
        }

        .product-item-bottom {
            clear: both;
        }

        .old-price {

        }
        .normal-price {

        }
        .price-label {
          @include co(font-size, $plist-price-label-fontsize);
        }
        .price-box {
            @include co(order, $plist-pricebox-order);
            @include co(margin, $plist-pricebox-margin);
            @include co(width, $plist-pricebox-width);

            .special-price,
            .price-final_price {
                .price {
                  @include co(font-size, $plist-pricebox-font-size);
                }
            }
            .price {


            }


        }



        .prices-tier {
            .price-container {
                .price-including-tax {
                    + .price-excluding-tax {
                        &:before {
                            content: '(' attr(data-label) ': ';
                        }

                        &:last-child:after {
                            content: ')';
                        }
                    }
                }

                .weee[data-label] {
                    display: inline;

                    .price {
                        @include lib-font-size(11);
                    }

                    &:before {
                        content: ' +' attr(data-label) ': ';
                    }
                }
            }
        }

    }
}


.block.upsell,
.products.related {
    .product-item-details {
        @include co(padding, $products-related-product-item-details-padding);
    }
}

// Category Toolbar

$ctl-justifycontent: center !default;
$ctl-justifycontent-desktopmd: initial !default;
$ctl-order: 0 !default;
$ctl-order-desktopmd: 0 !default;

$ctl-width: 100% !default;
$ctl-width-desktopmd: auto !default;


$ctl-ctlink-fontfamily: $theme-sans-serif-font-family !default;
$ctl-ctlink-fontweight: 600 !default;
$ctl-ctlink-borderradius: $border-radius !default;
$ctl-ctlink-padding: 10px 20px !default;
$ctl-ctlink-margin: 0 0.5rem 0 0 !default;
$ctl-ctlink-color: #928665 !default;

$ctl-ctlink-transition: $alternate-transition !default;

$ctl-ctlink-texttransform: uppercase !default;
$ctl-ctlink-active-color: #e9e8d6 !default;

$ctl-ctlink-active-background: #2F2523 !default;

$ctl-ctlink-hover-background: #2F2523 !default;
$ctl-ctlink-hover-color: #e9e8d6 !default;
$ctl-ctlink-hover-textdecoration: none !default;

.category-toolbar-links {
    display: flex;
    @include co(order, $ctl-order);
    @include co(width, $ctl-width);
    @include co(justify-content, $ctl-justifycontent);

    @include min-screen($desktop-md-min) {
        @include co(order, $ctl-order-desktopmd, $ctl-order);
        @include co(width, $ctl-width-desktopmd, $ctl-width);
        @include co(justify-content, $ctl-justifycontent-desktopmd, $ctl-justifycontent);
    }

    .ct-link {
        @include co(transition, $ctl-ctlink-transition);
        @include co(font-family, $ctl-ctlink-fontfamily);
        @include co(font-weight, $ctl-ctlink-fontweight);
        @include co(text-transform, $ctl-ctlink-texttransform);
        @include co(border-radius, $ctl-ctlink-borderradius);
        @include co(padding, $ctl-ctlink-padding);
        @include co(margin, $ctl-ctlink-margin);
        @include co(color, $ctl-ctlink-color);
        &:hover {
            @include co(background, $ctl-ctlink-hover-background);
            @include co(color, $ctl-ctlink-hover-color);
            @include co(text-decoration, $ctl-ctlink-hover-textdecoration);

        }
        &.active {
            @include co(color, $ctl-ctlink-active-color);
            @include co(background, $ctl-ctlink-active-background);
        }
    }
}
