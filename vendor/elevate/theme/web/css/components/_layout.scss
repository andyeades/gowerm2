$page-main-outer-margin: 1rem 0 0 0 !default;
$page-main-outer-margin-homepage: 15px 0 0 0 !default;
$page-main-outer-margin-with-breadcrumbs: 0 !default;


// Two Column
$twocol-column-main-width: 100vw !default;
$twocol-column-main-maxwidth: 100% !default;

$twocol-column-main-padding-desktopmd-single: $grid-gutter-width / 2 !default;
$twocol-column-main-width-desktopmd: 75% !default;
$twocol-column-main-padding-desktopmd: 0 $grid-gutter-width / 2 !default;

$twocol-right-column-main-width: 100vw !default;

$twocol-right-column-main-width-desktopmd: 70% !default;
$twocol-right-column-main-padding-desktopmd: 0 $grid-gutter-width / 2 2.5rem 0 !default;

$twocol-left-column-main-padding-desktopmd: 0 0 2.5rem 0;


$twocol-left-column-main-maxwidth-desktopmd: false !default;


$twocol-singlesidebar-width: 100% !default;
$twocol-singlesidebar-width-desktopmd: 25% !default;

$twocol-right-singlesidebar-width: 100% !default;
$twocol-right-singlesidebar-width-desktopmd: 30% !default;

$twocol-singlesidebar-padding-desktopmd: $grid-gutter-width / 2 !default;

$twocol-left-singlesidebar-padding-desktopmd: 0 $grid-gutter-width / 2 0 0 !default;
$twocol-right-singlesidebar-padding-desktopmd: 0 0 0 $grid-gutter-width / 2 !default;


.ev-flex-container {
    display: flex;
}


// Sod this, Magento's mixins for layout are terrible and confusing, Richard is writing his own!

// Magento's are too abstracted to make any fucking sense

$main-maincontent-order: false !default;
$main-maincontent-width: false !default;

main#main-content {
    @include co(width, $main-maincontent-width);
    @include co(order, $main-maincontent-order);
}
.columns {
    display: flex;
    flex-wrap: wrap;

    .column.main {

        @include lib-css(padding-bottom, $indent-xl);
        flex: 0 1 auto;
        order: 2;
        width: 100%;
        @include min-screen($screen-md-min) {
            min-height: 300px;


        }
    }


}

.column.main {
    @include min-screen($desktop-min) {
        padding-left: 0;
    }
}

$twocol-left-pagewithfilter-column-main-width: $twocol-column-main-width !default;
$twocol-left-pagewithfilter-column-main-width-desktopmd: 78% !default;
$twocol-left-pagewithfilter-column-main-padding-desktopmd: 0 0 0 $grid-gutter-width / 2 !default;

$twocol-left-pagewithfilter-column-main-margin-desktopmd: 0 0 0 auto !default;

$twocol-left-pagewithfilter-singlesidebar-width: $twocol-singlesidebar-width !default;
$twocol-left-pagewithfilter-singlesidebar-padding-desktopmd: 0 $grid-gutter-width 0 0 !default;
$twocol-left-pagewithfilter-singlesidebar-width-desktopmd: 22% !default;

$twocol-left-pagewithfilter-background: false !default;


$twocol-left-columns-cmain-order: 3 !default;
$twocol-left-columns-ssidebar-order: 2 !default;
$twocol-left-columns-ssidebar-width: 100vw !default;
$twocol-left-columns-ssidebar-width-desktopmd: 100% !default;

$twocol-left-columns-sidebaradd-width: 100% !default;


.page-layout-2columns-left {
    &.page-with-filter {
        // Elevate Filter
        @include co(background, $twocol-left-pagewithfilter-background);

        .columns {

            .column.main {
                @include co(width, $twocol-left-pagewithfilter-column-main-width, $twocol-column-main-width);
                @include min-screen($screen-md-min) {
                    @include co(width, $twocol-left-pagewithfilter-column-main-width-desktopmd);
                    @include co(padding, $twocol-left-pagewithfilter-column-main-padding-desktopmd);
                    @include co(margin, $twocol-left-pagewithfilter-column-main-margin-desktopmd);
                }
            }

            .single-sidebar {
                @include co(width, $twocol-left-pagewithfilter-singlesidebar-width, $twocol-singlesidebar-width);


                @include min-screen($screen-md-min) {
                    @include co(padding, $twocol-left-pagewithfilter-singlesidebar-padding-desktopmd);
                    @include co(width, $twocol-left-pagewithfilter-singlesidebar-width-desktopmd);
                }
            }
        }

    }

    .columns {
        .column.main {
            order: $twocol-left-columns-cmain-order;
            @include co(width, $twocol-column-main-width);
            @include co(max-width, $twocol-column-main-maxwidth);
            @include min-screen($screen-md-min) {
                @include co(width, $twocol-column-main-width-desktopmd);
                @include co(padding, $twocol-left-column-main-padding-desktopmd);
                @include co(max-width, $twocol-left-column-main-maxwidth-desktopmd);
            }

        }

        .single-sidebar {
            order: $twocol-left-columns-ssidebar-order;
            flex: 0 1 auto;
            flex-wrap: wrap;
            @include co(width, $twocol-singlesidebar-width);


            @include min-screen($screen-md-min) {
                @include co(padding, $twocol-left-singlesidebar-padding-desktopmd);
                @include co(width, $twocol-singlesidebar-width-desktopmd);
            }
            display: flex;

            .sidebar-main {
                @include co(width, $twocol-left-columns-ssidebar-width);
                position: relative;
                flex: 0 1 auto;
                @include min-screen($screen-md-min) {
                    @include co(width, $twocol-left-columns-ssidebar-width-desktopmd, $twocol-left-columns-ssidebar-width);

                }
            }

            .sidebar-additional {
                @include co(width, $twocol-left-columns-sidebaradd-width);
                flex: 0 1 auto;
            }
        }
    }
}

.page-layout-2columns-right {
    .columns {
        .column.main {
            order: 2;
            @include co(width, $twocol-right-column-main-width);
            @include min-screen($screen-md-min) {
                @include co(width, $twocol-right-column-main-width-desktopmd);
                @include co(padding, $twocol-right-column-main-padding-desktopmd);
            }

        }

        .single-sidebar {
            order: 3;
            flex: 0 1 auto;
            flex-wrap: wrap;
            @include co(width, $twocol-singlesidebar-width);


            @include min-screen($screen-md-min) {
                @include co(padding, $twocol-right-singlesidebar-padding-desktopmd);
                @include co(width, $twocol-right-singlesidebar-width-desktopmd);
            }
            display: flex;

            .sidebar-main {
                width: 100vw;
                position: relative;
                flex: 0 1 auto;
                @include min-screen($screen-md-min) {

                    width: 100%;

                }
            }

            .sidebar-additional {

                width: 100%;
                flex: 0 1 auto;
            }
        }
    }
}

$page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize: false !default;
$page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-mobilemax: false !default;
$page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-mobiletabletmax: false !default;
$page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-desktop: false !default;
$page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-desktopmd: false !default;

.page-layout-full_width_nobreadcrumbs_nomargintop_notitle {

    h1 {
        @include co(font-size, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize);
        @include max-screen($mobile-max) {
            @include co(font-size, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-mobilemax, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize);
        }
        @include max-screen($mobiletablet-max) {
            @include co(font-size, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-mobiletabletmax, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-mobilemax, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize);
        }

        @include min-screen($desktop-min) {
            @include co(font-size, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-desktop, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize);
        }
        @include min-screen($desktop-md-min) {
            @include co(font-size, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-desktopmd, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize-desktop, $page-layout-fullwidth-nobread-nomargintop-notitle-h1-fontsize);
        }
    }
}

//
//  Mobile
//

@include max-screen($screen-m) {
    .page-with-filter {
        .columns {
            .sidebar-main {
                @include lib-vendor-prefix-order(0);
            }
        }
    }
}

.sidebar-additional {
    .block {
        margin-bottom: $indent-base;

        .block-title {
            @include abs-block-title();
        }
    }
}


.page-layout-full_width_nomargintop,
.page-layout-full_width_nobreadcrumbs_nomargintop,
.page-layout-full_width_nobreadcrumbs_nomargintop_notitle,
.page-layout-2cl-fwt-nmt-nb
{
    #page-main-outer {
        margin: 0;
    }
}


.pagelayout-full_width,
.pagelayout-full_width_nobreadcrumbs {
    #page-main-outer {
        @include co(margin, $page-main-outer-margin);
    }
}

.page-layout-full_width_nobreadcrumbs_nomargintop {
    #page-main-outer {

    }
}

.margin-contenttop {
    #page-main-outer {
        @include co(margin, $page-main-outer-margin);
    }
}

.nomargin-contenttop {
    #page-main-outer {
        margin: 0;

    }
}

#page-main-outer {

    @include co(margin, $page-main-outer-margin);

    &.cms-index-index {
        @include co(margin, $page-main-outer-margin-homepage);
    }

    &.nomargin-contenttop {
        margin: 0;
    }
}


.breadcrumbs,
.page-wrapper > .page-bottom, {
    padding-left: $layout-width-xs-indent;
    padding-right: $layout-width-xs-indent;
    @include min-screen($desktop-min) {
        margin-left: auto;
        margin-right: auto;
        max-width: $layout-max-width;
    }
}

//.block.category.event,
//.top-container
//.page-header .header.panel,
//.page-wrapper > .widget,


//
//  Desktop
//

@include min-screen($desktop-min) {


    .page-main {
        width: 100%;
        flex: 1 0 auto;

        .ie9 & {
            width: auto;
        }
    }

    .panel.header {
        padding: 10px 20px;
    }
}

// Sales Order Print Page

$sales-order-print-logo-margin: 0 0 2rem 0 !default;

$sales-order-print-logo-img-height: false !default;
$sales-order-print-logo-img-width: false !default;

.sales-order-print {
    .logo {
        @include co(margin, $sales-order-print-logo-margin);
        img {
            @include co(height, $sales-order-print-logo-img-height);
            @include co(width, $sales-order-print-logo-img-width);
        }


    }
    .block-order-details-view {
        .block-content {
            display: flex;
            flex-wrap: wrap;
            > .box {
                width: 50%;
            }
        }
    }
}
