<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
<style>
    #page-main-outer{
        background-color:#0e1937;

    }
    .snow{
        position:absolute;
        height: 100%;
        width: 100%;
        opacity: 50%;
    }
    .breadcrumbs{
        display:none;
    }
    #homepage-slider {
        height: auto;
        background: none;
        background-size: cover;
        margin: 0 auto;
        min-height:300px;
    }
    #homepage-slider img {
        width: 100%;
    }
    .hide_desktop {
        display: block;
    }
    .hide_mobile {
        display: none;
    }
    @media only screen and (max-width: 992px){
        .hide_mobile {
            display: block !important;
        }
        .hide_desktop {
            display: none !important;
        }
    }
    .toolbar, .products-grid{
        display:none !important;
    }
    .block_name {
        color: #fff;
        text-align: center;
        padding: 20px;
        font-size: 15px;
        font-weight: 600;
    }
</style>


<div id="homepage-slider">

    <img alt="Shop Now" class="hide_desktop lazyload" data-cfsrc="/media/loader.png" data-src="/media/productpage/desktop_banner.png" data-cfstyle="width: 100%;" style="">
    <img alt="Shop Now" class="hide_mobile lazyload" data-cfsrc="/media/loader.png" data-src="/media/productpage/mobile_banner_2.jpg" data-cfstyle="width: 100%;" style="">
</div>


<div class="container" style="position:relative;">
    <h1 style="
    text-align: center;
    color: white;
    margin-bottom: 70px;
">Character Rooms</h1>
    <div class="row">
    <canvas class="snow" id="snow"></canvas>

    <div class="col-md-3">
        <a href="/character-rooms/frozen-bedroom">
            <img style="width:100%;" src="/media/disney/all/frozen_II.jpeg">
            <div class="block_name">Frozen 2</div>
        </a>

    </div>
    <div class="col-md-3">
        <a href="/character-rooms/toy-story-bedroom">
            <img style="width:100%;" src="/media/disney/all/toy_story_4.jpeg">
            <div class="block_name">Toy Story 4</div>
        </a>
    </div>
    <div class="col-md-3">
        <a href="/character-rooms/paw-patrol-bedroom">
            <img style="width:100%;" src="/media/disney/all/paw_patrol.jpeg">
            <div class="block_name">Paw Patrol</div>
        </a>
    </div>









    <div class="col-md-3">
        <a href="/character-rooms/peppa-pig-bedroom">
            <img style="width:100%;" src="/media/disney/all/peppa_pig.jpeg">
            <div class="block_name">Peppa Pig</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/disney-cars-bedroom">
            <img style="width:100%;" src="/media/disney/all/Cars.jpeg">
            <div class="block_name">Cars</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/disney-princess-bedroom">
            <img style="width:100%;" src="/media/disney/all/disney_princess.jpeg">
            <div class="block_name">Disney Princess</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/jcb-bedroom">
            <img style="width:100%;" src="/media/disney/all/jcb.jpeg">
            <div class="block_name">JCB</div>
        </a>
    </div>


    <div class="col-md-3">
        <a href="/character-rooms/mickey-mouse-bedroom">
            <img style="width:100%;" src="/media/disney/all/mickey_mouse.jpeg">
            <div class="block_name">Mickey Mouse</div>
        </a>
    </div>
    <div class="col-md-3">
        <a href="/character-rooms/minnie-mouse-bedroom">
            <img style="width:100%;" src="/media/disney/all/minnie_mouse.jpeg">
            <div class="block_name">Minnie Mouse</div>
        </a>
    </div>


    <div class="col-md-3">
        <a href="/character-rooms/pink-stars-bedroom">
            <img style="width:100%;" src="/media/disney/all/pink_stars.jpg">
            <div class="block_name">Pink Stars</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/pj-masks-bedroom">
            <img style="width:100%;" src="/media/disney/all/pj_masks.jpeg">
            <div class="block_name">PJ Masks</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/room-2-build-bedroom">
            <img style="width:100%;" src="/media/disney/all/room2build.jpeg">
            <div class="block_name">Room 2 Build</div>
        </a>
    </div>


    <div class="col-md-3">
        <a href="/character-rooms/spiderman-bedroom">
            <img style="width:100%;" src="/media/disney/all/spiderman.jpeg">
            <div class="block_name">Spiderman</div>
        </a>
    </div>


    <div class="col-md-3">
        <a href="/character-rooms/blue-stars-bedroom">
            <img style="width:100%;" src="/media/disney/all/blue_stars.jpg">
            <div class="block_name">Blue Stars</div>
        </a>
    </div>
    <div class="col-md-3">
        <a href="/character-rooms/dinosaurs-bedroom">
            <img style="width:100%;" src="/media/disney/all/dinosaurs.jpeg">
            <div class="block_name">Dinosaurs</div>
        </a>
    </div>
    <div class="col-md-3">
        <a href="/character-rooms/flowers-and-birds-bedroom">
            <img style="width:100%;" src="/media/disney/all/flowers_and_birds.jpg">
            <div class="block_name">Flowers & Birds</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/grey-stars-bedroom">
            <img style="width:100%;" src="/media/disney/all/grey_stars.jpg">
            <div class="block_name">Grey Stars</div>
        </a>
    </div>

    <div class="col-md-3">
        <a href="/character-rooms/space-explorer-bedroom">
            <img style="width:100%;" src="/media/disney/all/space_explorer.jpg">
            <div class="block_name">Space Explorer</div>
        </a>
    </div>



    <div class="col-md-3">
        <a href="/character-rooms/vehicles-bedroom">
            <img style="width:100%;" src="/media/disney/all/vehicles.jpg">
            <div class="block_name">Vehicles</div>
        </a>
    </div>



</div>
<script>

    const Snow = (canvas, count, options) => {
        const ctx = canvas.getContext('2d');
        const snowflakes = [];

        const add = item => snowflakes.push(item(canvas));

        const update = () => _.forEach(snowflakes, el => el.update());

        const resize = () => {
            ctx.canvas.width = canvas.offsetWidth;
            ctx.canvas.height = canvas.offsetHeight;

            _.forEach(snowflakes, el => el.resized());
        };

        const draw = () => {
            ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);
            _.forEach(snowflakes, el => el.draw());
        };

        const events = () => {
            window.addEventListener('resize', resize);
        };

        const loop = () => {
            draw();
            update();
            animFrame(loop);
        };

        const init = () => {
            _.times(count, () => add(canvas => SnowItem(canvas, null, options)));
            events();
            loop();
        };

        init(count);
        resize();

        return { add, resize };
    };

    const defaultOptions = {
        color: 'orange',
        radius: [0.5, 3.0],
        speed: [1, 3],
        wind: [-0.5, 3.0] };


    const SnowItem = (canvas, drawFn = null, opts) => {
        const options = { ...defaultOptions, ...opts };
        const { radius, speed, wind, color } = options;
        const params = {
            color,
            x: _.random(0, canvas.offsetWidth),
            y: _.random(-canvas.offsetHeight, 0),
            radius: _.random(...radius),
            speed: _.random(...speed),
            wind: _.random(...wind),
            isResized: false };

        const ctx = canvas.getContext('2d');

        const updateData = () => {
            params.x = _.random(0, canvas.offsetWidth);
            params.y = _.random(-canvas.offsetHeight, 0);
        };

        const resized = () => params.isResized = true;

        const drawDefault = () => {
            ctx.beginPath();
            ctx.arc(params.x, params.y, params.radius, 0, 2 * Math.PI);
            ctx.fillStyle = params.color;
            ctx.fill();
            ctx.closePath();
        };

        const draw = drawFn ?
            () => drawFn(ctx, params) :
            drawDefault;

        const translate = () => {
            params.y += params.speed;
            params.x += params.wind;
        };

        const onDown = () => {
            if (params.y < canvas.offsetHeight) return;

            if (params.isResized) {
                updateData();
                params.isResized = false;
            } else {
                params.y = 0;
                params.x = _.random(0, canvas.offsetWidth);
            }
        };

        const update = () => {
            translate();
            onDown();
        };

        return {
            update,
            resized,
            draw };

    };

    const el = document.querySelector('.container');
    const wrapper = document.querySelector('body');
    const canvas = document.getElementById('snow');

    const animFrame = window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame;

    Snow(canvas, 600, { color: 'white' });
</script></div>